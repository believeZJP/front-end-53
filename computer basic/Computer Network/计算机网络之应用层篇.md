## 概述

- 传输层一下的层提供完整的通讯服务
- 应用层是面向用户的一层，常用的协议有 FTP, HTTP, HTTPS, DNS, TELNET
- 定义应用间通讯的规则

#### 回顾传输层的UDP和TCP协议

- UDP应用场景（多媒体信息分发）：视频，语音，实时信息
- TCP应用场景（可靠消息传输）：金融交易，可靠通讯，MQ

#### 作用

- 应用进程的报文类型(请求报文、应答报文)
- 报文的语法、格式
- 应用进程发送数据的时机、规则

## DNS详解

- DNS（Domain Name System：域名系统）
- 一般“ip:port”可以唯一确定一个服务，但是太难记，因此dns将其转化成域名来帮助记忆。

#### 域名

- 域名由点、字母和数字组成
- 点分割不同的域
- 域名可以分为顶级域、二级域、三级域 （www.taobao.com : 三级域.二级于域.顶级域）
- 顶级域名分为国家（cn, us, uk, ca）和通用（com, net, gov, org）
- 二级域名比如：aliyun，amazon，qq，tabao，baidu，google，facebook

![](https://s2.ax1x.com/2019/11/14/MY219P.md.png)

- 如果计算机在请求一个域名的时候可以直接在dns服务器检索到，则直接拿ip进行请求
- 如果拿不到，则先到根域名服务器去一层一层往下查找

## DHCP协议

- DHCP(Dynamic Host Configuration Protocol:动态主机设置协议)
- DHCP是一个局域网协议
- DHCP是应用UDP协议的应用层协议
- 即插即用联网，为手机电脑等设备提供了ip动态分配的服务
- 是临时的内网ip，并且有租期，但是可以续租

#### 如何工作的

- DHCP服务器监听默认端口: 67
- 主机使用UDP协议广播DHCP发现报文
- DHCP服务器发出DHCP提供报文
- 主机向DHCP服务器发出DHCP请求报文
- DHCP服务器回应并提供IP地址

## HTTP协议详解

#### 对称加密

略

#### 非对称加密

![](https://s2.ax1x.com/2019/11/14/MYR5Is.md.png)

#### 数组证书

- 数字证书是可信任组织颁发给特定对象的认证。
- 数字证书格式【证书格式、版本号，证书序列号，签名算法，有效期，对象公开密钥】

#### SSL

- Secure Socket Layer：安全套接字
- 数据安全和数据完整
- 对传输层数据进行加密后传输
- 位于应用层和传输层之间

#### 传输过程

![](https://s2.ax1x.com/2019/11/14/MYRHzV.md.png)

具体ssl安全握手的过程略

- 综合利用了对称加密和非对称加密
- 密钥是各自生成，不通过传输，增加了安全性