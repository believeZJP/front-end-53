## 概述
![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%B8%B8%E7%94%A8%E8%AE%BE%E5%A4%87%E5%8F%8A%E5%88%86%E7%B1%BB.png)

## 计算机总线
#### 概述
USB, Universal Serial Bus（通用串行总线，是总线的一种）
- 提供了对外链接的接口
- 不同设备可以通过USB接口进行链接
- 链接的标准，促使外围设备接口的统一

常见总线有USB总线，PCI总线，ISA总线，Thunderbolt总线等。总之，总线是为了解决不同设备之间的通讯问题

![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/IO%E6%80%BB%E7%BA%BF%E9%93%BE%E6%8E%A5.png)

#### 总线的分类
- 片内总线。芯片内部的总线，寄存器和寄存器之间，寄存器与控制器、运算器之间（高度继承芯片内部的信息传输线），高集成度芯片内部度信息传输线
![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%89%87%E5%86%85%E6%80%BB%E7%BA%BF.png)
- 系统总线。分为三类：数据总线，地址总线，控制总线
![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF.png)

#### 总线的仲裁

- 链式查询
好处：电路复杂度低，仲裁方法简单
坏处：优先级的设备难以获得总线的使用权
坏处：对电路故障敏感
![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E6%80%BB%E7%BA%BF%E4%BB%B2%E8%A3%81-%E9%93%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2.png)

- 计时器定时查询
过程：1. 冲裁控制器对设备编号并使用计数器累计计数； 2. 接收到仲裁信号后，往所有设备发出计数值； 3. 计数值与设备编号一致则获得总线使用权；
![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E6%80%BB%E7%BA%BF%E4%BB%B2%E8%A3%81-%E8%AE%A1%E6%97%B6%E5%99%A8%E5%AE%9A%E6%97%B6%E6%9F%A5%E8%AF%A2.png)

- 独立请求
1. 每个设备均有总线独立链接仲裁器
2. 设备可单独向仲裁器发送请求和接受请求
3. 当同时收到多个请求信号，冲裁器有权按优先级分配使用权

好处：相应速度快，优先顺序可动态改变
坏处：设备连线多，总线控制复杂
![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E6%80%BB%E7%BA%BF%E4%BB%B2%E8%A3%81-%E7%8B%AC%E7%AB%8B%E8%AF%B7%E6%B1%82.png)

## 计算机的输入输出设备
#### 常见的输入输出设备
1. 字符输入设备
薄膜键盘，机械键盘，电容键盘，鼠标，数位板（输入板和压感笔），扫描仪
2. 图像输入设备
显示器（CRT和液晶），打印机，投影仪

#### 输入输出接口的通用设计
- 数据线
    > 是I/O设备与主机之间进行数据交换的传送线
    > 单向传输数据线
    > 双向传输数据线
- 状态线
    > IO设备状态向主机报告的信号线
    > 查询设备是否已经正常链接并就绪
    > 查询设备是否已经被占用
- 命令线
    > CPU向设备发送命令的信号线
    > 发送读写信号
    > 发送启动停止信号
- 设备选择线
    > 主机选择I/O设备进行操作的信号线
    > 对连在总线上的设备进行选择

#### CPU 与 IO 设备的通信
1. 程序中断
    - 当外围IO设备就绪时，向CPU发出中断信号
    - CPU有专门的电路相应中断信号
    ![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/CPU%E4%B8%8EIO%E8%AE%BE%E5%A4%87%E7%9A%84%E9%80%9A%E4%BF%A1-%E7%A8%8B%E5%BA%8F%E4%B8%AD%E6%96%AD.png)
2. DMA（直接存储器访问）
    - DMA直接链接主存与IO设备
    - DMA工作时不需要CPU的参与
    ![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/CPU%E4%B8%8EIO%E8%AE%BE%E5%A4%87%E7%9A%84%E9%80%9A%E4%BF%A1-DMA.png)

## 计算机存储器概览
#### 存储器分类
按照存储介质分类：半导体存储器和磁存储器

半导体存储器
- 内存
- U盘
- 固态硬盘

磁存储器
- 磁带
- 磁盘

按照存取方式分类：

随机存储器（RAM）
- 随机存储
- 与位置无关

串行存储器
- 与位置有关
- 按顺序查找

只读存储器（ROM）
- 只读不写

#### 存储器的层次结构
- 读写速度
- 存储容量
- 价格

容量 + 价格 => 位价：每比特位价格

三个层次：缓存，主存，辅存

## 计算机的主存储器与辅存储器
#### 主存储器 -- 内存
- RAM（随机存取存储器：Random Access Memory）
- RAM 是通过电容存储数据，必须隔一段时间刷新一次
- 如果掉电，那么一段时间之后将丢失所有数据
- 32位系统的寻址范围只有32位，因此最多只能支持4G的内存  
![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E4%B8%BB%E5%AD%98%E5%82%A8%E5%99%A8-%E5%86%85%E5%AD%98.png)

#### 辅助存储器 -- 磁盘
- 先来先服务算法
- 最短寻道时间优先
- 扫描算法（电梯算法，因为和电梯的调度算法一样）
- 循环扫描算法  
![](https://raw.githubusercontent.com/clown-0726/mypicsbed/master/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%A3%81%E9%81%93%E8%AF%BB%E5%8F%96%E5%8F%82%E8%80%83.png)

## 计算机的高速缓存
#### 高度缓存的工作原理
字：是指存放在一个存储单元中的二进制的代码组合  
字块：存储在连续的存储单元中而被看作是一个单元的一组字